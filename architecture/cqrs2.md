# CQRS Apprentice 2

A developer who can build systems that take advantage of the segregation of commands and queries, including event sourcing.

## Master the following skills:

- Write aggregate methods that generate domain events
- Write an event sourced and invariant aggregate using a stream of domain events
- Broadcast domain events upon persisting the domain aggregate
- Handle domain events with event handlers
- Persist domain events to a database
- Write idempotent projections to update a view store when changes occur
- Explain the impact of CQRS on Consistency, Availability and Scalability
  of the system
- Implement Snapshotting of an aggregate to reduce the time it takes
  to handle a Command
- Write unit tests for domain event handlers
- Run a complete workflow from endpoint request (PUT or POST) to "eventually consistent" view store to the UI
- Discuss what types of tasks should be handled in a command handler vs aggregate vs domain event handler vs domain service

## Suggested Learning:

- [Introduction to CQRS and Event Sourcing](https://eventsourcery.com/){:target="\_blank"}
- [Video course: Event Sourcing, Distributed Systems & CQRS](https://www.youtube.com/playlist?list=PLEV9ul4qfGOZ5gWIPMlFGMUpenSs1EvxZ){:target="\_blank"}
- [Event Sourcing Projections Patterns: Deduplication Strategies](https://domaincentric.net/blog/event-sourcing-projection-patterns-deduplication-strategies){:target="\_blank"}

## Evaluation:

Ask your mentor if you are ready for evaluation. Then, do one of the following:

1. Schedule a live evaluation by clicking [here](https://api.logro.io/widget/appointment/codex-evals/badge-level-9) to find a time on the calendar. After the evaluation, claim the badge.

or

2. Record a screencast where you talk about and demonstrate each competency listed above. Make sure badge criteria and relevant tools are visible in the screen cast AND that your audio is good enough for the evaluator to hear. Upload the video to a service like Vimeo or Youtube (unlisted is fine) so that you can provide a public url for an evaluator to view. Claim the badge and include the video url in the evidence box.
